---
title: 回车换行（CRLF）
date: 2020-09-09 20:21:47
tags:
categories:
---
工作中经常遇到CRLF，\r\n等描述，这里总结一下它们的由来。
<!-- more -->
## 回车换行的由来

在计算机还没有出现之前，有一种叫做电传打字机的机械打字机，每秒钟可以打10个字符。但它存在一个问题，打完一行进行换行的时候，需要用去0.2秒，正好可以打两个字符。要是在这0.2秒里面，又有新的字符传过来，那么这个字符将丢失。

研制人员想了个办法解决这个问题，就是在每行后面加两个表示结束的字符：

1. 一个叫做“回车”，告诉打字机把打印头定位在左边界，不卷动滚筒。也称为CR（Carriage Return）
2. 一个叫做“换行”，告诉打字机把滚筒卷一格，不改变水平位置。。也称为LF（Line Feed）

这就是“换行”和“回车”的由来。

## 兼容问题

后来，计算机发明了，这两个概念也就被般到了计算机上。由于早期存储器很贵，一些科学家认为在每行结尾加两个字符太浪费了，加一个就可以。于是，就出现了分歧。具体来说：

- DOS & Windows: \r\n
- Unix & Mac OS X: \n
- Macintosh (OS 9): \r

所以不同系统的文件传输后打开可能会有问题：Unix/Mac系统下的文件在Windows打开，所有文字会变成一行；Windows里的文件在Unix/Mac下打开，每行的结尾可能会多出一个^M符号。