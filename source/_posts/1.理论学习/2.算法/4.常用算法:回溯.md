---
title: 4.常用算法:回溯
date: 2020-11-17 21:29:12
tags:
- 算法
categories:
- 理论学习
link_title: common_algorithm_2
---
## 回溯算法

要用回溯算法解决问题需要将问题抽象为一个决策序列，一步步做决策，直到问题解决。如果发现某一步已经没有可以解决问题的决策了，或者决策序列已经到头但问题还未解决，就退回上一步进行其它的决策。
<!-- more -->
### 1.基本解决问题的思路

**解决一个回溯问题，实际上就是一个决策树的遍历过程**。需要关注的几个问题：

1. 决策路径：也就是已经做出的决策序列，最终的决策序列就是问题的解。
2. 选择列表：当前可以做的选择。
3. 成功条件：完成任务的条件。
4. 结束条件：一般是决策序列到头了或者已经确定必然无法完成任务了。

典型的回溯算法代码如下：

```
result = []
backtrack(当前任务状态, 选择列表):
	if 满足结束条件:
		result.add(路径)
		return

	for 选择 in 选择列表:
	  if 选择不合理    //提前剪枝
	  	cotinue;
	  else
	  	做选择，计算新状态
			backtrack(新状态, 选择列表)
```



### 2.回溯VS枚举

回溯算法是优于穷举法的。穷举法要将一个解的各个部分全部生成后，才检查是否满足条件，若不满足，则直接放弃该完整解，然后再尝试另一个可能的完整解，它并没有沿着一个可能的完整解的各个部分逐步回退生成解的过程。而对于回溯法，一个解的各个部分是逐步生成的，当发现当前生成的某部分不满足约束条件时，就放弃该步所做的工作，退到上一步进行新的尝试，而不是放弃整个解重来。（所谓剪枝，也就是避免了一些不必要的搜索）